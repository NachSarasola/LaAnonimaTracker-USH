# La Anónima Price Tracker Configuration
# ======================================

# Branch Configuration
# -------------------
branch:
  postal_code: "9410"
  branch_name: "USHUAIA 5"
  branch_id: "75"  # Internal ID for the branch
  province: "Tierra del Fuego"
  city: "Ushuaia"

# Website Configuration
# ---------------------
website:
  base_url: "https://www.laanonima.com.ar/"
  search_url: "https://www.laanonima.com.ar/buscar/{query}"
  timeout: 30000  # milliseconds
  retry_attempts: 3
  retry_delay: 2  # seconds
  headless: true

# Canonical business categories (rubros)
# -------------------------------------
canonical_categories:
  labels:
    almacen: "Almacén"
    bebidas: "Bebidas"
    lacteos: "Lácteos"
    carniceria: "Carnicería"
    congelados: "Congelados"
    frutas_y_verduras: "Frutas y Verduras"
    perfumeria: "Perfumería"
    limpieza: "Limpieza"
    mascotas: "Mascotas"
  aliases:
    almacen: ["panaderia", "legumbres", "aceites", "azucar", "condimentos", "conservas", "huevos"]
    bebidas: ["bebidas", "bebidas_alcoholicas"]
    lacteos: ["lacteos"]
    carniceria: ["carnes"]
    congelados: ["congelados"]
    frutas_y_verduras: ["frutas", "verduras"]
    perfumeria: ["higiene", "perfumeria"]
    limpieza: ["limpieza"]
    mascotas: ["mascotas"]

# Basket Definitions
# ------------------
# Basket A: INDEC Canasta Básica Alimentaria (CBA)
# Based on official INDEC product list for Greater Buenos Aires
# Adapted for availability at La Anónima

baskets:
  # Basket A: INDEC CBA - Essential food basket
  cba:
    name: "Canasta Básica Alimentaria (INDEC)"
    description: "Official INDEC basic food basket for poverty line measurement"
    base_period: "2024-01"
    items:
      # Panadería (Bakery)
      - id: "cba_pan_fam"
        name: "Pan flauta/familia"
        keywords: ["pan flauta", "pan familia"]
        category: "panaderia"
        unit: "kg"
        quantity: 4.5
        matching: "loose"
        
      - id: "cba_galletitas"
        name: "Galletitas de agua"
        keywords: ["galletitas agua", "galletas agua"]
        brand_hint: ["Terrabusi", "Bagley", "Don Satur"]
        category: "panaderia"
        unit: "paquete"
        quantity: 3
        matching: "loose"
        
      # Carnes (Meat)
      - id: "cba_bife"
        name: "Bife de chorizo"
        keywords: ["bife chorizo", "bife angosto"]
        category: "carnes"
        unit: "kg"
        quantity: 2
        matching: "loose"
        
      - id: "cba_carne_picada"
        name: "Carne picada común"
        keywords: ["carne picada", "picada comun"]
        category: "carnes"
        unit: "kg"
        quantity: 1.5
        matching: "loose"
        
      - id: "cba_pollo"
        name: "Pollo entero"
        keywords: ["pollo entero", "pollo fresco"]
        category: "carnes"
        unit: "kg"
        quantity: 3
        matching: "loose"
        
      - id: "cba_paleta"
        name: "Paleta de cerdo"
        keywords: ["paleta cerdo", "paleta de cerdo"]
        category: "carnes"
        unit: "kg"
        quantity: 1.5
        matching: "loose"
        
      # Lácteos (Dairy)
      - id: "cba_leche"
        name: "Leche fluida entera"
        keywords: ["leche entera", "leche fluida"]
        brand_hint: ["La Serenísima", "Verónica", "Sancor"]
        category: "lacteos"
        unit: "litro"
        quantity: 6
        matching: "loose"
        
      - id: "cba_queso_cremoso"
        name: "Queso cremoso"
        keywords: ["queso cremoso", "queso fresco"]
        category: "lacteos"
        unit: "kg"
        quantity: 1.2
        matching: "loose"
        
      - id: "cba_queso_rallado"
        name: "Queso rallado"
        keywords: ["queso rallado", "rallado"]
        category: "lacteos"
        unit: "kg"
        quantity: 0.15
        matching: "loose"
        
      - id: "cba_manteca"
        name: "Manteca"
        keywords: ["manteca", "mantequilla"]
        brand_hint: ["La Serenísima", "Sancor", "Milkaut"]
        category: "lacteos"
        unit: "kg"
        quantity: 0.3
        matching: "loose"
        
      - id: "cba_yogur"
        name: "Yogur bebible"
        keywords: ["yogur bebible", "yogur drink"]
        category: "lacteos"
        unit: "litro"
        quantity: 3
        matching: "loose"
        
      # Huevos
      - id: "cba_huevos"
        name: "Huevos"
        keywords: ["huevos", "huevo"]
        category: "huevos"
        unit: "docena"
        quantity: 2
        matching: "loose"
        
      # Aceite y grasas
      - id: "cba_aceite"
        name: "Aceite de girasol"
        keywords: ["aceite girasol", "aceite de girasol"]
        brand_hint: ["Natura", "Cocinero"]
        category: "aceites"
        unit: "litro"
        quantity: 1.5
        matching: "loose"
        
      # Azúcar y dulces
      - id: "cba_azucar"
        name: "Azúcar"
        keywords: ["azucar", "azúcar"]
        category: "azucar"
        unit: "kg"
        quantity: 2
        matching: "loose"
        
      - id: "cba_dulce_leche"
        name: "Dulce de leche"
        keywords: ["dulce leche", "dulce de leche"]
        brand_hint: ["La Serenísima", "Sancor", "Milkaut"]
        category: "azucar"
        unit: "kg"
        quantity: 0.5
        matching: "loose"
        
      - id: "cba_mermelada"
        name: "Mermelada"
        keywords: ["mermelada", "jalea"]
        category: "azucar"
        unit: "kg"
        quantity: 0.3
        matching: "loose"
        
      # Bebidas
      - id: "cba_yerba"
        name: "Yerba mate"
        keywords: ["yerba mate", "yerba"]
        brand_hint: ["Taragüi", "Amanda", "Rosamonte", "La Tranquera"]
        category: "bebidas"
        unit: "kg"
        quantity: 2
        matching: "loose"
        
      - id: "cba_cafe"
        name: "Café molido"
        keywords: ["cafe molido", "café molido"]
        brand_hint: ["Nescafé", "Arlistán", "La Virginia"]
        category: "bebidas"
        unit: "kg"
        quantity: 0.25
        matching: "loose"
        
      - id: "cba_te"
        name: "Té en saquitos"
        keywords: ["te saquitos", "té saquitos", "te en saquitos"]
        brand_hint: ["Taragüi", "La Virginia", "Green Hills"]
        category: "bebidas"
        unit: "caja"
        quantity: 1
        matching: "loose"
        
      # Arroz, pastas y legumbres
      - id: "cba_arroz"
        name: "Arroz"
        keywords: ["arroz", "arroz largo"]
        category: "legumbres"
        unit: "kg"
        quantity: 1.5
        matching: "loose"
        
      - id: "cba_fideos"
        name: "Fideos secos"
        keywords: ["fideos", "fideo", "espagueti", "tallarin"]
        brand_hint: ["Terrabusi", "Matarazzo", "Lucchetti"]
        category: "legumbres"
        unit: "kg"
        quantity: 2
        matching: "loose"
        
      - id: "cba_porotos"
        name: "Porotos"
        keywords: ["porotos", "frijoles", "poroto"]
        category: "legumbres"
        unit: "kg"
        quantity: 0.3
        matching: "loose"
        
      - id: "cba_lentejas"
        name: "Lentejas"
        keywords: ["lentejas", "lenteja"]
        category: "legumbres"
        unit: "kg"
        quantity: 0.3
        matching: "loose"
        
      # Verduras y frutas (fresh produce - may be limited online)
      - id: "cba_papa"
        name: "Papas"
        keywords: ["papa", "papas"]
        category: "verduras"
        unit: "kg"
        quantity: 3
        matching: "loose"
        
      - id: "cba_cebolla"
        name: "Cebolla"
        keywords: ["cebolla", "cebollas"]
        category: "verduras"
        unit: "kg"
        quantity: 1.5
        matching: "loose"
        
      - id: "cba_zanahoria"
        name: "Zanahoria"
        keywords: ["zanahoria", "zanahorias"]
        category: "verduras"
        unit: "kg"
        quantity: 1.5
        matching: "loose"
        
      - id: "cba_tomate"
        name: "Tomate"
        keywords: ["tomate", "tomates"]
        category: "verduras"
        unit: "kg"
        quantity: 2.5
        matching: "loose"
        
      - id: "cba_lechuga"
        name: "Lechuga"
        keywords: ["lechuga", "lechugas"]
        category: "verduras"
        unit: "kg"
        quantity: 1
        matching: "loose"
        
      - id: "cba_manzana"
        name: "Manzana"
        keywords: ["manzana", "manzanas"]
        category: "frutas"
        unit: "kg"
        quantity: 2
        matching: "loose"
        
      - id: "cba_naranja"
        name: "Naranja"
        keywords: ["naranja", "naranjas"]
        category: "frutas"
        unit: "kg"
        quantity: 2
        matching: "loose"
        
      - id: "cba_banana"
        name: "Banana"
        keywords: ["banana", "bananas", "plátano"]
        category: "frutas"
        unit: "kg"
        quantity: 2
        matching: "loose"
        
      # Sal y condimentos
      - id: "cba_sal"
        name: "Sal fina"
        keywords: ["sal fina", "sal de mesa"]
        category: "condimentos"
        unit: "kg"
        quantity: 0.3
        matching: "loose"
        
      - id: "cba_mayonesa"
        name: "Mayonesa"
        keywords: ["mayonesa"]
        brand_hint: ["Hellmann's", "Natura", "Heinz"]
        category: "condimentos"
        unit: "kg"
        quantity: 0.3
        matching: "loose"
        
      # Bebidas alcohólicas (wine for CBT)
      - id: "cba_vino"
        name: "Vino común"
        keywords: ["vino común", "vino mesa", "vino tinto"]
        category: "bebidas_alcoholicas"
        unit: "litro"
        quantity: 1.5
        matching: "loose"

  # Basket B: Extended Products
  extended:
    name: "Extended Product Basket"
    description: "Additional products for comprehensive price tracking"
    items:
      - id: "ext_harina"
        name: "Harina de trigo 000"
        keywords: ["harina 000", "harina trigo"]
        category: "panaderia"
        unit: "kg"
        quantity: 4
        matching: "loose"
        
      - id: "ext_aceite_oliva"
        name: "Aceite de oliva"
        keywords: ["aceite oliva", "aceite de oliva"]
        category: "aceites"
        unit: "litro"
        quantity: 0.5
        matching: "loose"
        
      - id: "ext_azucar_morena"
        name: "Azúcar morena"
        keywords: ["azucar morena", "azúcar morena"]
        category: "azucar"
        unit: "kg"
        quantity: 1
        matching: "loose"
        
      - id: "ext_galletas_dulces"
        name: "Galletitas dulces"
        keywords: ["galletitas dulces", "galletas dulces", "cookies"]
        category: "panaderia"
        unit: "paquete"
        quantity: 2
        matching: "loose"
        
      - id: "ext_jugo"
        name: "Jugo en polvo"
        keywords: ["jugo polvo", "jugo en polvo", "refresco"]
        brand_hint: ["Tang", "Clight"]
        category: "bebidas"
        unit: "sobre"
        quantity: 6
        matching: "loose"
        
      - id: "ext_gaseosa"
        name: "Gaseosa"
        keywords: ["gaseosa", "refresco", "soda"]
        brand_hint: ["Coca-Cola", "Pepsi", "Sprite"]
        category: "bebidas"
        unit: "litro"
        quantity: 3
        matching: "loose"
        
      - id: "ext_atun"
        name: "Atún en lata"
        keywords: ["atun lata", "atún en lata"]
        category: "conservas"
        unit: "lata"
        quantity: 2
        matching: "loose"
        
      - id: "ext_arvejas"
        name: "Arvejas en lata"
        keywords: ["arvejas lata", "arvejas en lata"]
        category: "conservas"
        unit: "lata"
        quantity: 2
        matching: "loose"
        
      - id: "ext_choclo"
        name: "Choclo en lata"
        keywords: ["choclo lata", "choclo en lata", "maíz dulce"]
        category: "conservas"
        unit: "lata"
        quantity: 2
        matching: "loose"
        
      - id: "ext_pure_tomate"
        name: "Puré de tomate"
        keywords: ["pure tomate", "puré de tomate"]
        category: "conservas"
        unit: "lata"
        quantity: 3
        matching: "loose"
        
      - id: "ext_shampoo"
        name: "Shampoo"
        keywords: ["shampoo", "shampoo"]
        category: "higiene"
        unit: "unidad"
        quantity: 1
        matching: "loose"
        
      - id: "ext_jabon"
        name: "Jabón de tocador"
        keywords: ["jabon tocador", "jabón de tocador"]
        category: "higiene"
        unit: "unidad"
        quantity: 3
        matching: "loose"
        
      - id: "ext_pasta_dental"
        name: "Pasta dental"
        keywords: ["pasta dental", "dentifrico", "dentífrico"]
        category: "higiene"
        unit: "unidad"
        quantity: 1
        matching: "loose"
        
      - id: "ext_desodorante"
        name: "Desodorante"
        keywords: ["desodorante"]
        category: "higiene"
        unit: "unidad"
        quantity: 1
        matching: "loose"
        
      - id: "ext_papel_higienico"
        name: "Papel higiénico"
        keywords: ["papel higienico", "papel higiénico"]
        category: "limpieza"
        unit: "unidad"
        quantity: 6
        matching: "loose"
        
      - id: "ext_detergente"
        name: "Detergente"
        keywords: ["detergente", "jabón lavarropa"]
        category: "limpieza"
        unit: "unidad"
        quantity: 1
        matching: "loose"
        
      - id: "ext_lavandina"
        name: "Lavandina"
        keywords: ["lavandina", "blanqueador"]
        category: "limpieza"
        unit: "litro"
        quantity: 1
        matching: "loose"

      - id: "ext_arroz_integral"
        name: "Arroz integral"
        keywords: ["arroz integral", "arroz integral largo"]
        category: "legumbres"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_arroz_parboil"
        name: "Arroz parboil"
        keywords: ["arroz parboil", "arroz fortificado"]
        category: "legumbres"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_arroz_yaman"
        name: "Arroz yamaní"
        keywords: ["arroz yamani", "arroz yamaní"]
        category: "legumbres"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_fideos_spaghetti"
        name: "Fideos spaghetti"
        keywords: ["fideos spaghetti", "spaghetti"]
        category: "legumbres"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_fideos_tallarines"
        name: "Fideos tallarines"
        keywords: ["fideos tallarines", "tallarines"]
        category: "legumbres"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_fideos_mono"
        name: "Fideos moño"
        keywords: ["fideos mono", "fideos moño", "fideos moñito"]
        category: "legumbres"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_fideos_codito"
        name: "Fideos codito"
        keywords: ["fideos codito", "codito"]
        category: "legumbres"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_salsa_filetto"
        name: "Salsa filetto"
        keywords: ["salsa filetto", "salsa de tomate filetto"]
        category: "conservas"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_salsa_tuco"
        name: "Salsa tuco"
        keywords: ["salsa tuco", "tuco"]
        category: "conservas"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_lentejas_secas"
        name: "Lentejas secas"
        keywords: ["lentejas secas", "lentejas"]
        category: "legumbres"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_garbanzos_secos"
        name: "Garbanzos secos"
        keywords: ["garbanzos secos", "garbanzos"]
        category: "legumbres"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_porotos_colorados"
        name: "Porotos colorados"
        keywords: ["porotos colorados", "porotos rojos"]
        category: "legumbres"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_pure_inst"
        name: "Pure instantaneo"
        keywords: ["pure instantaneo", "pure en escamas"]
        category: "almacen"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_polenta"
        name: "Polenta"
        keywords: ["polenta", "harina de maiz polenta"]
        category: "almacen"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_semola"
        name: "Semola"
        keywords: ["semola", "sémola"]
        category: "almacen"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_pan_lactal"
        name: "Pan lactal"
        keywords: ["pan lactal", "pan de molde"]
        category: "panaderia"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_pan_rallado"
        name: "Pan rallado"
        keywords: ["pan rallado"]
        category: "panaderia"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_levadura"
        name: "Levadura"
        keywords: ["levadura", "levadura seca"]
        category: "panaderia"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_cacao_polvo"
        name: "Cacao en polvo"
        keywords: ["cacao en polvo", "cacao polvo"]
        category: "almacen"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_cereal_maiz"
        name: "Cereal de maiz"
        keywords: ["cereal maiz", "copos maiz"]
        category: "almacen"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_avena"
        name: "Avena"
        keywords: ["avena", "avena instantanea"]
        category: "almacen"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_granola"
        name: "Granola"
        keywords: ["granola"]
        category: "almacen"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_miel"
        name: "Miel"
        keywords: ["miel"]
        category: "azucar"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_dulce_membrillo"
        name: "Dulce de membrillo"
        keywords: ["dulce de membrillo", "membrillo"]
        category: "azucar"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_harina_leudante"
        name: "Harina leudante"
        keywords: ["harina leudante"]
        category: "panaderia"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_harina_maiz"
        name: "Harina de maiz"
        keywords: ["harina maiz", "harina de maiz"]
        category: "panaderia"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_sal_gruesa"
        name: "Sal gruesa"
        keywords: ["sal gruesa", "sal parrillera"]
        category: "condimentos"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_pimienta_molida"
        name: "Pimienta molida"
        keywords: ["pimienta molida", "pimienta"]
        category: "condimentos"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_oregano"
        name: "Oregano"
        keywords: ["oregano", "orégano"]
        category: "condimentos"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_vinagre_alcohol"
        name: "Vinagre de alcohol"
        keywords: ["vinagre alcohol", "vinagre de alcohol"]
        category: "condimentos"
        unit: "litro"
        quantity: 1
        matching: "loose"

      - id: "ext_ketchup"
        name: "Ketchup"
        keywords: ["ketchup", "catsup"]
        category: "condimentos"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_mostaza"
        name: "Mostaza"
        keywords: ["mostaza"]
        category: "condimentos"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_salsa_soja"
        name: "Salsa de soja"
        keywords: ["salsa soja", "salsa de soja"]
        category: "condimentos"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_mani_tostado"
        name: "Mani tostado"
        keywords: ["mani tostado", "mani"]
        category: "almacen"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_papas_snack"
        name: "Papas snack"
        keywords: ["papas snack", "papas fritas"]
        category: "almacen"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_barra_cereal"
        name: "Barra de cereal"
        keywords: ["barra cereal", "barra de cereal"]
        category: "almacen"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_galletas_saladas"
        name: "Galletas saladas"
        keywords: ["galletas saladas", "galletitas saladas"]
        category: "panaderia"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_crackers_integrales"
        name: "Crackers integrales"
        keywords: ["crackers integrales", "galletitas integrales"]
        category: "panaderia"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_tostadas"
        name: "Tostadas"
        keywords: ["tostadas", "tostadas integrales"]
        category: "panaderia"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_tapas_empanadas"
        name: "Tapas para empanadas"
        keywords: ["tapas empanadas", "tapas para empanadas"]
        category: "panaderia"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_tapas_pascualina"
        name: "Tapas para pascualina"
        keywords: ["tapas pascualina", "tapas para pascualina"]
        category: "panaderia"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_aceitunas_verdes"
        name: "Aceitunas verdes"
        keywords: ["aceitunas verdes", "aceitunas"]
        category: "conservas"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_palmitos"
        name: "Palmitos"
        keywords: ["palmitos"]
        category: "conservas"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_jardinera_lata"
        name: "Jardinera en lata"
        keywords: ["jardinera lata", "jardinera en lata"]
        category: "conservas"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_sardinas_lata"
        name: "Sardinas en lata"
        keywords: ["sardinas lata", "sardinas en lata"]
        category: "conservas"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_caballa_lata"
        name: "Caballa en lata"
        keywords: ["caballa lata", "caballa en lata"]
        category: "conservas"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_lentejas_lata"
        name: "Lentejas en lata"
        keywords: ["lentejas lata", "lentejas en lata"]
        category: "conservas"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_ensalada_frutas_lata"
        name: "Ensalada de frutas en lata"
        keywords: ["ensalada frutas lata", "ensalada de frutas en lata"]
        category: "conservas"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_anana_lata"
        name: "Anana en lata"
        keywords: ["anana lata", "ananá en lata", "piña en lata"]
        category: "conservas"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_durazno_lata"
        name: "Durazno en lata"
        keywords: ["durazno lata", "durazno en lata"]
        category: "conservas"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_agua_sin_gas"
        name: "Agua mineral sin gas"
        keywords: ["agua sin gas", "agua mineral sin gas"]
        category: "bebidas"
        unit: "litro"
        quantity: 6
        matching: "loose"

      - id: "ext_agua_con_gas"
        name: "Agua mineral con gas"
        keywords: ["agua con gas", "agua mineral con gas"]
        category: "bebidas"
        unit: "litro"
        quantity: 4
        matching: "loose"

      - id: "ext_agua_saborizada"
        name: "Agua saborizada"
        keywords: ["agua saborizada"]
        category: "bebidas"
        unit: "litro"
        quantity: 3
        matching: "loose"

      - id: "ext_gaseosa_cola"
        name: "Gaseosa cola"
        keywords: ["gaseosa cola", "cola"]
        category: "bebidas"
        unit: "litro"
        quantity: 2
        matching: "loose"

      - id: "ext_gaseosa_limon"
        name: "Gaseosa limon"
        keywords: ["gaseosa limon", "gaseosa limón", "limonada gasificada"]
        category: "bebidas"
        unit: "litro"
        quantity: 2
        matching: "loose"

      - id: "ext_gaseosa_naranja"
        name: "Gaseosa naranja"
        keywords: ["gaseosa naranja", "naranja gasificada"]
        category: "bebidas"
        unit: "litro"
        quantity: 2
        matching: "loose"

      - id: "ext_jugo_tetra"
        name: "Jugo en tetra"
        keywords: ["jugo tetra", "jugo en caja"]
        category: "bebidas"
        unit: "litro"
        quantity: 3
        matching: "loose"

      - id: "ext_jugo_listo"
        name: "Jugo listo para tomar"
        keywords: ["jugo listo", "jugo listo para tomar"]
        category: "bebidas"
        unit: "litro"
        quantity: 2
        matching: "loose"

      - id: "ext_energizante"
        name: "Bebida energizante"
        keywords: ["energizante", "bebida energizante"]
        category: "bebidas"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_isotonica"
        name: "Bebida isotonic"
        keywords: ["isotonica", "isotónica", "bebida isotónica"]
        category: "bebidas"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_agua_tonica"
        name: "Agua tonica"
        keywords: ["agua tonica", "agua tónica"]
        category: "bebidas"
        unit: "litro"
        quantity: 2
        matching: "loose"

      - id: "ext_soda_sifon"
        name: "Soda sifon"
        keywords: ["soda sifon", "soda sifón"]
        category: "bebidas"
        unit: "litro"
        quantity: 2
        matching: "loose"

      - id: "ext_cerveza_lager"
        name: "Cerveza lager"
        keywords: ["cerveza lager", "cerveza rubia"]
        category: "bebidas_alcoholicas"
        unit: "unidad"
        quantity: 6
        matching: "loose"

      - id: "ext_cerveza_sin_alcohol"
        name: "Cerveza sin alcohol"
        keywords: ["cerveza sin alcohol"]
        category: "bebidas_alcoholicas"
        unit: "unidad"
        quantity: 4
        matching: "loose"

      - id: "ext_vino_tinto_fino"
        name: "Vino tinto fino"
        keywords: ["vino tinto fino", "vino tinto joven"]
        category: "bebidas_alcoholicas"
        unit: "litro"
        quantity: 2
        matching: "loose"

      - id: "ext_vino_blanco_fino"
        name: "Vino blanco fino"
        keywords: ["vino blanco fino", "vino blanco joven"]
        category: "bebidas_alcoholicas"
        unit: "litro"
        quantity: 2
        matching: "loose"

      - id: "ext_cafe_instantaneo"
        name: "Cafe instantaneo"
        keywords: ["cafe instantaneo", "café instantáneo"]
        category: "bebidas"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_mate_cocido"
        name: "Mate cocido"
        keywords: ["mate cocido", "saquitos mate cocido"]
        category: "bebidas"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_leche_descremada"
        name: "Leche descremada"
        keywords: ["leche descremada", "leche descremada fluida"]
        category: "lacteos"
        unit: "litro"
        quantity: 4
        matching: "loose"

      - id: "ext_leche_larga_vida"
        name: "Leche larga vida"
        keywords: ["leche larga vida", "leche uat"]
        category: "lacteos"
        unit: "litro"
        quantity: 4
        matching: "loose"

      - id: "ext_leche_polvo"
        name: "Leche en polvo"
        keywords: ["leche en polvo"]
        category: "lacteos"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_yogur_firme"
        name: "Yogur firme"
        keywords: ["yogur firme", "yogurt firme"]
        category: "lacteos"
        unit: "unidad"
        quantity: 4
        matching: "loose"

      - id: "ext_yogur_griego"
        name: "Yogur griego"
        keywords: ["yogur griego", "yogurt griego"]
        category: "lacteos"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_queso_portsalut"
        name: "Queso port salut"
        keywords: ["queso port salut", "port salut"]
        category: "lacteos"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_queso_mozzarella"
        name: "Queso mozzarella"
        keywords: ["queso mozzarella", "muzzarella"]
        category: "lacteos"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_queso_barra"
        name: "Queso barra"
        keywords: ["queso barra"]
        category: "lacteos"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_crema_leche"
        name: "Crema de leche"
        keywords: ["crema de leche", "crema lactea"]
        category: "lacteos"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_margarina"
        name: "Margarina"
        keywords: ["margarina"]
        category: "lacteos"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_huevos_color"
        name: "Huevos color"
        keywords: ["huevos color", "huevo color"]
        category: "huevos"
        unit: "docena"
        quantity: 2
        matching: "loose"

      - id: "ext_hamburguesas_congeladas"
        name: "Hamburguesas congeladas"
        keywords: ["hamburguesas congeladas", "medallones carne"]
        category: "congelados"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_milanesas_pollo"
        name: "Milanesas de pollo"
        keywords: ["milanesas de pollo", "supremas rebozadas"]
        category: "congelados"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_medallones_soja"
        name: "Medallones de soja"
        keywords: ["medallones soja", "hamburguesas soja"]
        category: "congelados"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_papas_congeladas"
        name: "Papas congeladas"
        keywords: ["papas congeladas", "papas prefritas"]
        category: "congelados"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_verduras_congeladas"
        name: "Verduras congeladas"
        keywords: ["verduras congeladas", "mix verduras congeladas"]
        category: "congelados"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_pizza_congelada"
        name: "Pizza congelada"
        keywords: ["pizza congelada"]
        category: "congelados"
        unit: "unidad"
        quantity: 2
        matching: "loose"

      - id: "ext_helado_pote"
        name: "Helado en pote"
        keywords: ["helado pote", "helado en pote"]
        category: "congelados"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_manzana_kg"
        name: "Manzana por kilo"
        keywords: ["manzana kg", "manzana roja"]
        category: "frutas"
        unit: "kg"
        quantity: 2
        matching: "loose"

      - id: "ext_naranja_kg"
        name: "Naranja por kilo"
        keywords: ["naranja kg", "naranja jugo"]
        category: "frutas"
        unit: "kg"
        quantity: 2
        matching: "loose"

      - id: "ext_banana_kg"
        name: "Banana por kilo"
        keywords: ["banana kg", "banana ecuador"]
        category: "frutas"
        unit: "kg"
        quantity: 2
        matching: "loose"

      - id: "ext_tomate_perita"
        name: "Tomate perita"
        keywords: ["tomate perita", "tomate"]
        category: "verduras"
        unit: "kg"
        quantity: 2
        matching: "loose"

      - id: "ext_papa_negra"
        name: "Papa negra"
        keywords: ["papa negra", "papas negras"]
        category: "verduras"
        unit: "kg"
        quantity: 2
        matching: "loose"

      - id: "ext_cebolla_morada"
        name: "Cebolla morada"
        keywords: ["cebolla morada", "cebolla roja"]
        category: "verduras"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_zapallo"
        name: "Zapallo"
        keywords: ["zapallo", "zapallo anco"]
        category: "verduras"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_lechuga_mantecosa"
        name: "Lechuga mantecosa"
        keywords: ["lechuga mantecosa", "lechuga"]
        category: "verduras"
        unit: "kg"
        quantity: 1
        matching: "loose"

      - id: "ext_suavizante"
        name: "Suavizante para ropa"
        keywords: ["suavizante ropa", "suavizante"]
        category: "limpieza"
        unit: "litro"
        quantity: 1
        matching: "loose"

      - id: "ext_jabon_polvo"
        name: "Jabon en polvo"
        keywords: ["jabon en polvo", "detergente ropa polvo"]
        category: "limpieza"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_toallas_femeninas"
        name: "Toallas femeninas"
        keywords: ["toallas femeninas", "toallitas femeninas"]
        category: "higiene"
        unit: "unidad"
        quantity: 1
        matching: "loose"

      - id: "ext_alimento_perro"
        name: "Alimento para perro"
        keywords: ["alimento perro", "balanceado perro"]
        category: "mascotas"
        unit: "kg"
        quantity: 2
        matching: "loose"

      - id: "ext_alimento_gato"
        name: "Alimento para gato"
        keywords: ["alimento gato", "balanceado gato"]
        category: "mascotas"
        unit: "kg"
        quantity: 2
        matching: "loose"

# Storage Configuration
# ---------------------
storage:
  # Options: sqlite, postgresql
  default_backend: "sqlite"
  
  sqlite:
    database_path: "data/laanonima_prices.db"
    
  postgresql:
    # Preferred for managed providers (Neon/Supabase/Render):
    # set DB_URL env var to full SQLAlchemy URL.
    url: "${DB_URL:}"
    host: "${DB_HOST:localhost}"
    port: "${DB_PORT:5432}"
    database: "${DB_NAME:laanonima_tracker}"
    user: "${DB_USER:tracker}"
    password: "${DB_PASSWORD:}"
    
  exports:
    csv_path: "data/exports/csv"
    parquet_path: "data/exports/parquet"

# Scraping Configuration
# ----------------------
scraping:
  # Delay between requests (milliseconds)
  request_delay: 1000
  
  # Max products to check per search
  max_results_per_search: 12
  # Minimo de candidatos por busqueda (barato/medio/caro)
  min_candidates_per_product: 3
  # Umbral minimo de confianza para guardar match representativo
  min_match_confidence: 0.2
  # Timeouts livianos para parseo/listado
  quick_selector_timeout_ms: 250
  search_settle_delay_ms: 700
  branch_selection:
    strategy: "cp_query_first"  # cp_query_first|modal_only|auto
    probe_timeout_ms: 6000

  # Candidate persistence strategy (prepara modo futuro de guardar 3)
  candidates:
    storage_mode: "db"     # json|db|off
    min_candidates_per_product: 3

  # Performance tuning defaults (compatible with legacy keys above)
  performance:
    commit_batch_size: 12
    base_request_delay_ms: 550
    search_settle_delay_ms: 250
    fail_fast_min_attempts: 8
    fail_fast_fail_ratio: 0.85

  # Deterministic basket planning for efficient runs
  planning:
    profile_default: "balanced"          # balanced|full|cba_only
    runtime_budget_minutes: 24
    rotation_items_default: 10
    lookback_runs: 10
    overhead_seconds: 90
    daily_core_ids:
      - "ext_harina"
      - "ext_arroz_integral"
      - "ext_fideos_spaghetti"
      - "ext_pure_tomate"
      - "ext_aceite_oliva"
      - "ext_azucar_morena"
      - "ext_leche_descremada"
      - "ext_yogur_firme"
      - "ext_huevos_color"
      - "ext_agua_sin_gas"
      - "ext_atun"
      - "ext_gaseosa"
      - "ext_shampoo"
      - "ext_jabon"
      - "ext_pasta_dental"
      - "ext_papel_higienico"
      - "ext_detergente"
      - "ext_lavandina"
      - "ext_suavizante"
      - "ext_toallas_femeninas"
      - "ext_alimento_perro"
      - "ext_alimento_gato"
    daily_rotation_ids:
      - "ext_arroz_parboil"
      - "ext_arroz_yaman"
      - "ext_fideos_tallarines"
      - "ext_fideos_mono"
      - "ext_fideos_codito"
      - "ext_galletas_dulces"
      - "ext_galletas_saladas"
      - "ext_crackers_integrales"
      - "ext_tostadas"
      - "ext_tapas_empanadas"
      - "ext_tapas_pascualina"
      - "ext_lentejas_secas"
      - "ext_garbanzos_secos"
      - "ext_porotos_colorados"
      - "ext_polenta"
      - "ext_semola"
      - "ext_harina_leudante"
      - "ext_harina_maiz"
      - "ext_sal_gruesa"
      - "ext_oregano"
      - "ext_pimienta_molida"
      - "ext_vinagre_alcohol"
      - "ext_ketchup"
      - "ext_mostaza"
      - "ext_salsa_soja"
      - "ext_jugo"
      - "ext_jugo_tetra"
      - "ext_jugo_listo"
      - "ext_agua_con_gas"
      - "ext_agua_saborizada"
      - "ext_agua_tonica"
      - "ext_soda_sifon"
      - "ext_gaseosa_cola"
      - "ext_gaseosa_limon"
      - "ext_gaseosa_naranja"
      - "ext_cerveza_lager"
      - "ext_cerveza_sin_alcohol"
      - "ext_vino_tinto_fino"
      - "ext_vino_blanco_fino"
      - "ext_cafe_instantaneo"
      - "ext_mate_cocido"
      - "ext_leche_larga_vida"
      - "ext_leche_polvo"
      - "ext_yogur_griego"
      - "ext_queso_portsalut"
      - "ext_queso_mozzarella"
      - "ext_queso_barra"
      - "ext_crema_leche"
      - "ext_margarina"
      - "ext_papas_congeladas"
      - "ext_verduras_congeladas"
      - "ext_hamburguesas_congeladas"
      - "ext_milanesas_pollo"
      - "ext_medallones_soja"
      - "ext_pizza_congelada"
      - "ext_helado_pote"
      - "ext_arvejas"
      - "ext_choclo"
      - "ext_aceitunas_verdes"
      - "ext_palmitos"
      - "ext_sardinas_lata"
      - "ext_caballa_lata"
      - "ext_lentejas_lata"
      - "ext_jardinera_lata"
      - "ext_manzana_kg"
      - "ext_naranja_kg"
      - "ext_banana_kg"
      - "ext_tomate_perita"
      - "ext_papa_negra"
      - "ext_cebolla_morada"
      - "ext_zapallo"
      - "ext_lechuga_mantecosa"
      - "ext_desodorante"
  
  # Browser settings
  browser:
    headless: true
    viewport:
      width: 1920
      height: 1080
    user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
    
  # Selectors (may need updating if site changes)
  selectors:
    branch_trigger: "[data-toggle='codigo-postal']"
    postal_input: "#idCodigoPostalUnificado"
    branch_options: "#opcionesSucursal"
    branch_radio: "input[name='sucursalSuper']"
    confirm_button: "#btn_setSucursalSuper"
    current_branch_label: ".sucursal"
    search_input: "#idBuscarProducto"
    search_button: ".btn-buscar"
    product_list: ".producto-item"
    product_name: ".titulo"
    product_price: ".precio"
    product_price_old: ".precio-anterior"
    product_unit_price: ".precio-unitario"
    product_url: "a[href*='producto'], a[href*='art_']"
    product_image: "img"
    out_of_stock: ".sin-stock"
    
# Scheduling Configuration
# ------------------------
scheduling:
  # Cron expression for GitHub Actions
  # Runs on 1st and 15th of each month at 9:00 AM ART (Argentina Time)
  cron_expression: "0 12 1,15 * *"
  
  # Alternative: specific days
  run_days: [1, 15]
  run_time: "09:00"
  timezone: "America/Argentina/Buenos_Aires"

# Analysis Configuration
# ----------------------
analysis:
  # Base period for index calculation (YYYY-MM)
  base_period: "2024-01"
  
  # Index type: laspeyres, paasche, or fisher
  index_type: "laspeyres"
  
  # CPI comparison file path (CSV format)
  cpi_file: "data/cpi/ipc_indec.csv"
  
  # Output settings
  output_dir: "data/analysis"
  plots_dir: "data/analysis/plots"
  reports_dir: "data/analysis/reports"

  # Data quality controls
  validation:
    min_coverage_rate: 0.70
    max_price_jump_pct: 200

  # Tracker-owned IPC methodology (monthly, robust, fixed weights)
  ipc_tracker:
    method_version: "v1_fixed_weight_robust_monthly"
    monthly_aggregation: "winsorized_mean"
    winsor_limits: [0.1, 0.9]
    min_obs_per_product_month: 1
    coverage_min_weight_pct: 0.7
    provisional_freeze_days: 7

  # Official IPC sync strategy (INDEC Nivel4 + XLS/PDF hybrid)
  ipc_official:
    source_mode: "xls_pdf_hybrid"       # xls_pdf_hybrid | fallback | auto_with_fallback
    source_code: "indec_patagonia"
    region_default: "patagonia"
    region_scope: ["patagonia", "nacional"]
    discovery_url: "https://www.indec.gob.ar/Nivel4/Tema/3/5/31"
    fallback_file: "data/cpi/ipc_indec_patagonia.csv"
    pdf_validation_policy: "on_new_month"   # always | on_new_month | never
    validation:
      max_abs_diff_pp: 0.10
    auto_source:
      url: "data/cpi/ipc_indec_patagonia.csv"
      format: "csv"                     # csv | json
      timeout_seconds: 20

  # Canonical app category -> INDEC Cuadro 1 division (strict mapping)
  ipc_category_mapping:
    app_to_indec_division:
      almacen: "alimentos_y_bebidas_no_alcoholicas"
      lacteos: "alimentos_y_bebidas_no_alcoholicas"
      carniceria: "alimentos_y_bebidas_no_alcoholicas"
      congelados: "alimentos_y_bebidas_no_alcoholicas"
      frutas_y_verduras: "alimentos_y_bebidas_no_alcoholicas"
      bebidas: "alimentos_y_bebidas_no_alcoholicas"
      limpieza: "equipamiento_y_mantenimiento_del_hogar"
      perfumeria: "bienes_y_servicios_varios"
      mascotas: null
    # Legacy alias consumed by older code paths; kept for compatibility.
    map:
      almacen: "alimentos_y_bebidas_no_alcoholicas"
      lacteos: "alimentos_y_bebidas_no_alcoholicas"
      carniceria: "alimentos_y_bebidas_no_alcoholicas"
      congelados: "alimentos_y_bebidas_no_alcoholicas"
      frutas_y_verduras: "alimentos_y_bebidas_no_alcoholicas"
      bebidas: "alimentos_y_bebidas_no_alcoholicas"
      limpieza: "equipamiento_y_mantenimiento_del_hogar"
      perfumeria: "bienes_y_servicios_varios"
  
# Logging Configuration
# ---------------------
logging:
  level: "INFO"
  format: "{time:YYYY-MM-DD HH:mm:ss} | {level} | {name} | {message}"
  file: "data/logs/tracker.log"
  rotation: "1 week"
  retention: "1 month"

# Static web publication (low-cost public website mode)
# -----------------------------------------------------
deployment:
  mode: "static_first"              # static_first | api_first
  output_dir: "public"
  public_base_url: "${PUBLIC_BASE_URL:https://preciosushuaia.com}"
  contact_email: "${PUBLIC_CONTACT_EMAIL:hola@preciosushuaia.com}"
  default_region: "patagonia"
  keep_history_months: 24
  keep_history_runs: 180
  history_timezone: "America/Argentina/Ushuaia"
  fresh_max_hours: 36
  # Daily run reference time in UTC (06:10 ART ~= 09:10 UTC)
  schedule_utc: "09:10"

# Advertising placeholders
# ------------------------
ads:
  enabled: true
  provider: "adsense"
  client_id: "${ADSENSE_CLIENT_ID:ca-pub-7036697873963446}"
  # Legacy compatibility key (still read by code paths).
  client_id_placeholder: "ca-pub-7036697873963446"
  slots:
    - "header"
    - "inline"
    - "sidebar"
    - "footer"

# Analytics (privacy-first by default)
# ------------------------------------
analytics:
  plausible:
    enabled: false
    domain: "${PLAUSIBLE_DOMAIN:}"
    script_url: "https://plausible.io/js/script.js"

# Premium roadmap placeholders (no paywall yet)
# ---------------------------------------------
premium_placeholders:
  enabled: false
  features:
    - "Alertas de precio personalizadas"
    - "Descarga avanzada CSV/API"
    - "Comparador multi-zona"
    - "Panel Pro sin anuncios"
